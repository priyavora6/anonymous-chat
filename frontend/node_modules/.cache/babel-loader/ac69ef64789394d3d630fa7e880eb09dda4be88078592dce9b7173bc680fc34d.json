{"ast":null,"code":"import React,{useEffect,useState}from'react';import CameraCapture from'./components/CameraCapture';import Chat from'./Chat';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function uuidv4(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){const r=Math.random()*16|0,v=c==='x'?r:r&0x3|0x8;return v.toString(16);});}export default function App(){const[deviceId,setDeviceId]=useState(null);const[verified,setVerified]=useState(null);useEffect(()=>{let id=localStorage.getItem('device_id');if(!id){id=uuidv4();localStorage.setItem('device_id',id);}setDeviceId(id);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"div\",{style:{width:36,height:36,borderRadius:8,background:'linear-gradient(90deg,#60a5fa,#5eead4)'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0},children:\"Anonymous Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sub\",children:\"Controlled Anonymity \\u2014 demo\"})]})]}),deviceId?verified?/*#__PURE__*/_jsx(Chat,{deviceId:deviceId,profile:verified}):/*#__PURE__*/_jsx(\"div\",{className:\"onboard-grid\",children:/*#__PURE__*/_jsx(CameraCapture,{deviceId:deviceId,onVerified:profile=>setVerified(profile)})}):/*#__PURE__*/_jsx(\"div\",{children:\"Initializing...\"})]});}","map":{"version":3,"names":["React","useEffect","useState","CameraCapture","Chat","jsx","_jsx","jsxs","_jsxs","uuidv4","replace","c","r","Math","random","v","toString","App","deviceId","setDeviceId","verified","setVerified","id","localStorage","getItem","setItem","className","children","style","width","height","borderRadius","background","margin","profile","onVerified"],"sources":["D:/sem 6/anonymous-chat/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport CameraCapture from './components/CameraCapture'\r\nimport Chat from './Chat'\r\n\r\nfunction uuidv4() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    const r = (Math.random() * 16) | 0,\r\n      v = c === 'x' ? r : (r & 0x3) | 0x8\r\n    return v.toString(16)\r\n  })\r\n}\r\n\r\nexport default function App() {\r\n  const [deviceId, setDeviceId] = useState(null)\r\n  const [verified, setVerified] = useState(null)\r\n  useEffect(() => {\r\n    let id = localStorage.getItem('device_id')\r\n    if (!id) {\r\n      id = uuidv4()\r\n      localStorage.setItem('device_id', id)\r\n    }\r\n    setDeviceId(id)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"brand\">\r\n        <div style={{width:36,height:36,borderRadius:8,background:'linear-gradient(90deg,#60a5fa,#5eead4)'}} />\r\n        <div>\r\n          <h1 style={{margin:0}}>Anonymous Chat</h1>\r\n          <div className=\"sub\">Controlled Anonymity â€” demo</div>\r\n        </div>\r\n      </div>\r\n\r\n      {deviceId ? (\r\n        verified ? (\r\n          <Chat deviceId={deviceId} profile={verified} />\r\n        ) : (\r\n          <div className=\"onboard-grid\">\r\n            <CameraCapture deviceId={deviceId} onVerified={(profile) => setVerified(profile)} />\r\n          </div>\r\n        )\r\n      ) : (\r\n        <div>Initializing...</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,IAAI,KAAM,QAAQ,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,MAAO,sCAAsC,CAACC,OAAO,CAAC,OAAO,CAAE,SAAUC,CAAC,CAAE,CAC1E,KAAM,CAAAC,CAAC,CAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,EAAE,CAAI,CAAC,CAChCC,CAAC,CAAGJ,CAAC,GAAK,GAAG,CAAGC,CAAC,CAAIA,CAAC,CAAG,GAAG,CAAI,GAAG,CACrC,MAAO,CAAAG,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CACvB,CAAC,CAAC,CACJ,CAEA,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAC9CD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAqB,EAAE,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC1C,GAAI,CAACF,EAAE,CAAE,CACPA,EAAE,CAAGb,MAAM,CAAC,CAAC,CACbc,YAAY,CAACE,OAAO,CAAC,WAAW,CAAEH,EAAE,CAAC,CACvC,CACAH,WAAW,CAACG,EAAE,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEd,KAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BnB,KAAA,QAAKkB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBrB,IAAA,QAAKsB,KAAK,CAAE,CAACC,KAAK,CAAC,EAAE,CAACC,MAAM,CAAC,EAAE,CAACC,YAAY,CAAC,CAAC,CAACC,UAAU,CAAC,wCAAwC,CAAE,CAAE,CAAC,cACvGxB,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAIsB,KAAK,CAAE,CAACK,MAAM,CAAC,CAAC,CAAE,CAAAN,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1CrB,IAAA,QAAKoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,kCAA2B,CAAK,CAAC,EACnD,CAAC,EACH,CAAC,CAELT,QAAQ,CACPE,QAAQ,cACNd,IAAA,CAACF,IAAI,EAACc,QAAQ,CAAEA,QAAS,CAACgB,OAAO,CAAEd,QAAS,CAAE,CAAC,cAE/Cd,IAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BrB,IAAA,CAACH,aAAa,EAACe,QAAQ,CAAEA,QAAS,CAACiB,UAAU,CAAGD,OAAO,EAAKb,WAAW,CAACa,OAAO,CAAE,CAAE,CAAC,CACjF,CACN,cAED5B,IAAA,QAAAqB,QAAA,CAAK,iBAAe,CAAK,CAC1B,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}